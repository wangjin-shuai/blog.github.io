{"meta":{"title":"菜虫虫","subtitle":null,"description":null,"author":"菜虫虫","url":"http://yoursite.com","root":"/"},"pages":[],"posts":[{"title":"通过包名判断Android应用是否在后台运行","slug":"hexo搭建第一天","date":"2019-07-04T13:10:43.000Z","updated":"2019-07-05T02:40:28.664Z","comments":true,"path":"2019/07/04/hexo搭建第一天/","link":"","permalink":"http://yoursite.com/2019/07/04/hexo搭建第一天/","excerpt":"Android中判断应用是否在后台运行","text":"Android中判断应用是否在后台运行 判断一个app是否在后台运行的，我是采用两个方法判断，当其中一个方法为true时，就代表程序正在后台运行中。 /** * 方法描述：根据包名判断某一应用是否正在运行 * @param context 上下文 * @param packageName 应用的包名 * @return true 表示正在运行，false 表示没有运行 */ private static boolean isAppRunning(Context context, String packageName) { ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE); List&lt;ActivityManager.RunningTaskInfo&gt; list = am.getRunningTasks(100); if (list.size() &lt;= 0) { return false; } for (ActivityManager.RunningTaskInfo info : list) { if (info.baseActivity.getPackageName().equals(packageName)) { return true; } } return false; } /** * 判断一个Activity是否正在运行 * * @param pkg pkg为应用包名 * @param cls cls为类名eg * @param context * @return */ public static boolean isClsRunning(Context context, String pkg, String cls) { ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE); List&lt;ActivityManager.RunningTaskInfo&gt; tasks = am.getRunningTasks(1); ActivityManager.RunningTaskInfo task = tasks.get(0); if (task != null) { return TextUtils.equals(task.topActivity.getPackageName(), pkg) &amp;&amp; TextUtils.equals(task.topActivity.getClassName(), cls); } return false; } 整合后的判断方法。 /** * 判断一个应用是否在后台存活 * * @param pkg pkg为应用包名 * @param cls cls为类名eg * @param context * @return */ public static boolean isAlive(String paclageName, Context context){ int uid = getPackageUid(context, paclageName); boolean rstA = isAppRunning(context, paclageName); //判断Activity是否存活 boolean restC = isClsRunning(context, paclageName,&quot;Acitvity包路径&quot;); if(rstA|| restC){ return true; }else{ //指定包名的程序未在运行中 return false; } }","categories":[],"tags":[{"name":"Android","slug":"Android","permalink":"http://yoursite.com/tags/Android/"}]},{"title":"Hello World","slug":"hello-world","date":"2019-07-04T05:46:08.613Z","updated":"2019-07-05T02:05:28.699Z","comments":true,"path":"2019/07/04/hello-world/","link":"","permalink":"http://yoursite.com/2019/07/04/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}